(this["webpackJsonpreact-redux-saga"]=this["webpackJsonpreact-redux-saga"]||[]).push([[0],{25:function(t,e,c){},26:function(t,e,c){},27:function(t,e,c){},30:function(t,e,c){"use strict";c.r(e);var n=c(0),o=c.n(n),r=c(11),a=c.n(r),s=c(9),i=c(16),u=c(2),l=c(6),d=c(4),j="ADD_TODO",O="TOGGLE_TODO",f="SHOW_ALL",b="SHOW_COMPLETED",p="SHOW_ACTIVE",h="DELETE_TODO",m="CHANGE_TODO",x="MARK_ALL_TODOS",v="CLEAR_COMPLETED_TODOS",y="GET_TODOS_FROM_LS",g="GET_TODOS_FROM_SERVER",T=Object(s.b)({todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:case g:return Object(d.a)(e.todos);case j:return console.log(e),[].concat(Object(d.a)(t),[e.newTodo]);case O:return Object(d.a)(t).map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{completed:!t.completed}):t}));case h:return Object(d.a)(t).filter((function(t){return t.id!==e.id}));case m:return Object(d.a)(t).map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{title:e.title}):t}));case x:return e.isAllToodosCompleted?Object(d.a)(t).map((function(t){return Object(l.a)(Object(l.a)({},t),{},{completed:!1})})):Object(d.a)(t).map((function(t){return Object(l.a)(Object(l.a)({},t),{},{completed:!0})}));case v:return Object(d.a)(t).filter((function(t){return!t.completed}));default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return f;case b:return b;case p:return p;default:return t}}}),E=(c(25),c(26),c(27),c(5)),C=c(8),_=c.n(C),N=c(3),w=c.n(N),S=c(7),k=c(32),D=function(t){return{type:j,newTodo:t}},A=function(t){return function(e){try{Object(S.a)(w.a.mark((function c(){var n;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n="".concat("http://localhost:5000/api","/todos/").concat(t),c.next=3,fetch(n,{method:"DELETE"});case 3:e({type:h,id:t});case 4:case"end":return c.stop()}}),c)})))()}catch(c){console.log(c)}}},L=function(t,e){return{type:m,id:t,title:e}},R=function(t,e){return function(c){try{Object(S.a)(w.a.mark((function n(){var o;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat("http://localhost:5000/api","/todos/update/").concat(t),n.next=3,fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({title:e})});case 3:c(L(t,e));case 4:case"end":return n.stop()}}),n)})))()}catch(n){console.log(n)}}},H=function(t){return{type:x,isAllToodosCompleted:t}},M=Object(n.createContext)("CONTEXT"),P=c(1),F=function(t){var e=t.todo,c=(Object(u.c)((function(t){return t.todos})),Object(u.b)()),o=Object(n.useState)(!1),r=Object(E.a)(o,2),a=r[0],s=r[1],i=Object(n.useState)(e.title),l=Object(E.a)(i,2),d=l[0],j=l[1];Object(n.useContext)(M);return Object(P.jsx)("li",{className:_()({completed:e.completed,editing:a}),onDoubleClick:function(){return s(!a)},children:a?Object(P.jsx)("input",{type:"text",className:"edit",value:d,autoFocus:!0,onChange:function(t){return j(t.target.value)},onKeyUp:function(t){"Enter"===t.key&&(c(d?R(e.id,d.trim()):A(e.id)),s(!1)),"Escape"===t.key&&(j(e.title),s(!1))},onBlur:function(t){c(d?R(e.id,d.trim()):A(e.id)),s(!1)}}):Object(P.jsxs)("div",{className:"view",children:[Object(P.jsx)("input",{type:"checkbox",className:"toggle",checked:e.completed,onChange:function(){return c((t=e.id,function(e){try{Object(S.a)(w.a.mark((function c(){var n;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n="".concat("http://localhost:5000/api","/todos/update/").concat(t),c.next=3,fetch(n,{method:"PATCH"});case 3:e({type:O,id:t});case 4:case"end":return c.stop()}}),c)})))()}catch(c){console.log(c)}}));var t}}),Object(P.jsx)("label",{children:e.title}),Object(P.jsx)("button",{type:"button",className:"destroy",onClick:function(){return c(A(e.id))}})]})})},G=function(t){var e=t.filteredTodos;return Object(P.jsx)("ul",{className:"todo-list",children:e.map((function(t){return Object(P.jsx)(F,{todo:t},t.id)}))})},J=function(){var t=Object(u.b)(),e=Object(n.useState)(""),c=Object(E.a)(e,2),o=c[0],r=c[1],a=function(e){var c;(e.preventDefault(),""!==o.trim())&&(t((c=o,function(t){try{var e={id:Object(k.a)(),completed:!1,title:c};Object(S.a)(w.a.mark((function c(){return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,fetch("http://localhost:5000/api/todos",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)});case 3:t(D(e));case 4:case"end":return c.stop()}}),c)})))()}catch(n){console.log(n)}})),r(""))};return Object(P.jsx)("form",{onSubmit:function(t){return a(t)},children:Object(P.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:o,onChange:function(t){var e=t.target;return r(e.value)}})})},X=function(){var t=Object(u.c)((function(t){return t.filter})),e=Object(u.b)(),c=Object(u.d)();c.getState,c.subscribe;return Object(P.jsxs)("ul",{className:"filters",children:[Object(P.jsx)("li",{children:Object(P.jsx)("a",{href:"#/",className:_()({selected:t===f}),onClick:function(){return e({type:f})},children:"All"})}),Object(P.jsx)("li",{children:Object(P.jsx)("a",{href:"#/active",className:_()({selected:t===p}),onClick:function(){return e({type:p})},children:"Active"})}),Object(P.jsx)("li",{children:Object(P.jsx)("a",{href:"#/completed",className:_()({selected:t===b}),onClick:function(){return e({type:b})},children:"Completed"})})]})},I=function(){var t=Object(n.useState)(""),e=Object(E.a)(t,2),c=e[0],o=e[1],r=Object(n.useState)(""),a=Object(E.a)(r,2),s=a[0],i=a[1],l=Object(n.useState)(!1),d=Object(E.a)(l,2),j=d[0],O=d[1],f=Object(u.b)(),h=Object(u.c)((function(t){return t.todos})),m=Object(u.c)((function(t){return t.filter})),x=m===b?h.filter((function(t){return t.completed})):m===p?h.filter((function(t){return!t.completed})):h;return Object(n.useEffect)((function(){f((function(t){try{Object(S.a)(w.a.mark((function e(){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("http://localhost:5000/api/todos");case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,t({type:g,todos:n});case 8:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}))}),[]),Object(n.useEffect)((function(){o((function(){return h.filter((function(t){return!t.completed}))})),i((function(){return h.filter((function(t){return t.completed}))})),O((function(){return h.every((function(t){return!0===t.completed}))}))}),[h]),Object(P.jsxs)("section",{className:"todoapp",children:[Object(P.jsxs)("header",{className:"header",children:[Object(P.jsx)("h1",{children:"todos"}),Object(P.jsx)(J,{})]}),0!==h.length?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("section",{className:"main",children:[Object(P.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:j,onChange:function(){return f(function(t){return function(e){try{Object(S.a)(w.a.mark((function c(){var n;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n="".concat("http://localhost:5000/api","/todos/mark-all-todos/"),c.next=3,fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({isAllToodosCompleted:t})});case 3:e(H(t));case 4:case"end":return c.stop()}}),c)})))()}catch(c){console.log(c)}}}(j))}}),Object(P.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(P.jsx)(M.Provider,{value:"sddsds",children:Object(P.jsx)(G,{filteredTodos:x})})]}),Object(P.jsxs)("footer",{className:"footer",children:[Object(P.jsxs)("span",{className:"todo-count",children:[c.length,1===c.length?" item ":" items ","left"]}),Object(P.jsx)(X,{}),s.length>0?Object(P.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return f((function(t){try{Object(S.a)(w.a.mark((function e(){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://localhost:5000/api","/delete-completed-todos/"),e.next=3,fetch(c,{method:"DELETE"});case 3:t({type:v});case 4:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}))},children:"Clear completed"}):""]})]}):""]})},V=Object(s.d)(T,Object(s.c)(Object(s.a)(i.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(u.a,{store:V,children:Object(P.jsx)(I,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.7aec92c3.chunk.js.map